<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>SNQR Research Reader</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Favicon (adjust path if needed) -->
  <link rel="icon" type="image/svg+xml" href="lib/images/favicon.svg" alt="icon svg">

  <!-- Vendor + theme CSS -->
  <link href="lib/css/min.css" rel="stylesheet" type="text/css">
  <link href="lib/css/themify-icons.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="lib/css/style.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

  <!-- Tailwind for small layout utilities (safe with our CSS) -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-900 text-white">

  <!-- Back Button (URL comes from load.js / JSON meta; default = /research) -->
  <a id="backButton"
     href="https://www.snqrglobal.com/research"
     class="fixed top-4 left-4 z-50 inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-black/60 border border-slate-700 text-xs md:text-sm text-slate-100 hover:bg-black/80 hover:border-sky-500 transition">
    <i class="fas fa-arrow-left text-[11px] md:text-xs"></i>
    <span>Back to Research</span>
  </a>

  <!-- Unified Control Panel Toggle Button -->
  <div class="fixed top-4 right-4 z-50">
    <button id="toggleUnifiedPanelBtn"
      class="px-3 md:px-4 py-1.5 md:py-2 bg-[#4B3C3C] text-[#EAEAEA] border border-[#8B6F6F] rounded-lg shadow-md transition duration-300 hover:bg-[#3E3232] hover:text-white"
      title="Toggle Control Panel">
      <i class="fas fa-bars"></i>
    </button>
  </div>

  <!-- Unified Side Control Panel -->
  <div id="unifiedPanel" class="unified-panel">
    <!-- Header -->
    <div class="panel-header">
      <div class="panel-title-group">
        <h2 class="panel-title">SNQR READER CONTROL</h2>
        <p class="panel-subtitle">Theme, layout, and reading state</p>
      </div>
      <button id="closeUnifiedPanelBtn" class="panel-close-btn" title="Close Control Panel">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <!-- Scrollable Content Area -->
    <div class="panel-content">

      <!-- Section: Layout & Theme -->
      <div class="panel-section">
        <h3 class="panel-section-title">
          <i class="fas fa-palette"></i>
          LAYOUT &amp; THEME
        </h3>

        <!-- Theme Selection -->
        <div class="panel-group">
          <div class="panel-group-header">
            <span class="panel-group-label">Theme</span>
            <span class="panel-group-description">Visual skin for the reader</span>
          </div>
          <div class="panel-group-body">
            <select id="themeSelect" class="panel-select">
              <option value="default" selected>Default</option>
              <option value="dark">Dark</option>
              <option value="light">Light</option>
              <option value="purple">Purple</option>
              <option value="green">Green</option>
              <option value="red">Red</option>
              <option value="orange">Orange</option>
              <option value="pink">Pink</option>
              <option value="cyan">Cyan</option>
              <option value="indigo">Indigo</option>
              <option value="yellow">Yellow</option>
              <option value="gray">Gray</option>
              <option value="emerald">Emerald</option>
              <option value="teal">Teal</option>
              <option value="violet">Violet</option>
              <option value="rose">Rose</option>
              <option value="amber">Amber</option>
              <option value="lime">Lime</option>
              <option value="sky">Sky</option>
              <option value="fuchsia">Fuchsia</option>
              <option value="slate">Slate</option>
              <option value="zinc">Zinc</option>
              <option value="neutral">Neutral</option>
              <option value="stone">Stone</option>
              <option value="dracula">Dracula</option>
              <option value="nord">Nord</option>
              <option value="gruvbox">Gruvbox</option>
              <option value="solarized">Solarized</option>
              <option value="monokai">Monokai</option>
              <option value="tomorrow">Tomorrow</option>
              <option value="github">GitHub</option>
              <option value="material">Material</option>
              <option value="vscode">VS Code</option>
              <option value="atom">Atom</option>
              <option value="xcode">Xcode</option>
              <option value="sublime">Sublime</option>
              <option value="jetbrains">JetBrains</option>
              <option value="notepad">Notepad</option>
              <option value="terminal">Terminal</option>
              <option value="matrix">Matrix</option>
              <option value="cyberpunk">Cyberpunk</option>
              <option value="ocean">Ocean</option>
              <option value="forest">Forest</option>
            </select>
          </div>
        </div>

        <!-- Layout Density -->
        <div class="panel-group">
          <div class="panel-group-header">
            <span class="panel-group-label">Layout Density</span>
            <span class="panel-group-description">Control spacing and compactness</span>
          </div>
          <div class="panel-group-body">
            <div class="panel-toggle-group">
              <button class="panel-toggle-btn active" data-density="comfortable">Comfortable</button>
              <button class="panel-toggle-btn" data-density="cozy">Cozy</button>
              <button class="panel-toggle-btn" data-density="compact">Compact</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Section: Reading Status -->
      <div class="panel-section">
        <h3 class="panel-section-title">
          <i class="fas fa-book-reader"></i>
          READING STATUS
        </h3>

        <!-- Current PDF -->
        <div class="panel-group">
          <div class="panel-group-header">
            <span class="panel-group-label">Current PDF</span>
            <span class="panel-group-description">Active document in the reader</span>
          </div>
          <div class="panel-group-body">
            <div class="panel-info-badge">
              <span class="panel-info-label">PDF:</span>
              <span class="panel-info-value" data-pdf-info>Not loaded</span>
            </div>
          </div>
        </div>

        <!-- Last Stored Page -->
        <div class="panel-group">
          <div class="panel-group-header">
            <span class="panel-group-label">Last Stored Page</span>
            <span class="panel-group-description">From local page memory</span>
          </div>
          <div class="panel-group-body">
            <div class="panel-info-badge">
              <span class="panel-info-label">Page:</span>
              <span id="storedPage" class="panel-info-value">N/A</span>
            </div>
          </div>
        </div>

        <!-- Reading Direction -->
        <div class="panel-group">
          <div class="panel-group-header">
            <span class="panel-group-label">Reading Direction</span>
            <span class="panel-group-description">Switch between LTR / RTL</span>
          </div>
          <div class="panel-group-body">
            <button id="toggleDirectionBtn" class="panel-button direction-btn" title="Switch to RTL">
              <i class="fas fa-exchange-alt"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- No PDF upload or URL controls â€“ readers see only SNQR papers -->

    </div>
  </div>

  <!-- Flipbook container (DearFlip renders here) -->
  <div id="flipbookContainer" class="h-screen w-full"></div>

  <!-- Scripts -->
  <script src="lib/js/libs/jquery.min.js" type="text/javascript"></script>
  <script src="lib/js/pageMemory.js"></script>
  <script src="lib/js/dflip.js" type="text/javascript"></script>
  <script src="lib/js/load.js"></script>
  <script src="lib/js/ui.js"></script>
  <script src="lib/js/media.js"></script>
  <script type="module" src="lib/js/themes/manager.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

</body>
</html>
